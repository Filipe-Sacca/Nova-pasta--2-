# üìã Documenta√ß√£o Completa - APIs iFood para Dashboard Analytics

**Data:** 2025-08-10

## üìñ √çndice

1. [Vis√£o Geral do Sistema](#vis√£o-geral-do-sistema)
2. [Authentication API](#1-authentication-api)
3. [Merchant API](#2-merchant-api)
4. [Catalog API V2](#3-catalog-api-v2)
5. [Financial API V2](#4-financial-api-v2)
6. [Promotion API](#5-promotion-api)
7. [Webhook/Notifications API](#6-webhooknotifications-api)
8. [Integra√ß√£o no Dashboard](#integra√ß√£o-no-dashboard)
9. [Implementa√ß√£o por M√≥dulo](#implementa√ß√£o-por-m√≥dulo-do-cliente)
10. [Roadmap de Implementa√ß√£o](#roadmap-de-implementa√ß√£o)

## üéØ Vis√£o Geral do Sistema

O dashboard **Plano Certo Hub Insights** integra com **6 APIs principais** do iFood para fornecer an√°lises completas para restaurantes:

### APIs Integradas:

- üîê **Authentication** - Gerenciamento de tokens OAuth2
- üè™ **Merchant** - Informa√ß√µes dos restaurantes  
- üìñ **Catalog** - Produtos e card√°pio
- üí∞ **Financial** - Dados financeiros e concilia√ß√£o
- üéÅ **Promotion** - Campanhas promocionais
- üîî **Webhook** - Notifica√ß√µes em tempo real

## üîê 1. AUTHENTICATION API

### üéØ Prop√≥sito no Dashboard:
Gerenciar autentica√ß√£o OAuth2 para conectar com seguran√ßa aos dados do iFood, permitindo acesso autorizado aos recursos dos restaurantes.

### üîß Endpoints Principais:
```
POST /oauth/token     # Obter access token
POST /oauth/refresh   # Renovar access token
```

### üìä Dados Coletados:

| Campo | Tipo | Descri√ß√£o | Uso no Dashboard |
|-------|------|-----------|------------------|
| access_token | string | Token de acesso (at√© 8000 chars) | Autentica√ß√£o de todas as requisi√ß√µes |
| refresh_token | string | Token para renova√ß√£o | Manter sess√£o ativa |
| expires_in | number | Tempo de expira√ß√£o (segundos) | Controle de renova√ß√£o autom√°tica |
| token_type | string | Tipo do token ("Bearer") | Header de autoriza√ß√£o |

### üíª Implementa√ß√£o no Dashboard:

```typescript
// hooks/useIfoodConfig.ts
interface IfoodAuthConfig {
  clientId: string;
  clientSecret: string;
  accessToken: string;
  refreshToken: string;
  expiresAt: Date;
  isActive: boolean;
}

// Tabela: ifood_tokens
const tokenSchema = {
  access_token: 'string',
  client_id: 'string', 
  client_secret: 'string',
  expires_at: 'number',
  user_id: 'string'
}
```

### üîÑ Fluxos Implementados:
1. **Client Credentials Flow** - Aplica√ß√µes centralizadas
2. **Authorization Code Flow** - Aplica√ß√µes web p√∫blicas
3. **Auto-refresh** - Renova√ß√£o autom√°tica antes da expira√ß√£o

## üè™ 2. MERCHANT API

### üéØ Prop√≥sito no Dashboard:
Gerenciar informa√ß√µes dos restaurantes, controlar status operacional, hor√°rios e interrup√ß√µes. Base para sistema multi-tenant.

### üîß Endpoints Principais:
```
GET /merchants                                    # Listar restaurantes
GET /merchants/{merchantId}                       # Detalhes do restaurante
GET /merchants/{merchantId}/status                # Status operacional
GET /merchants/{merchantId}/opening-hours         # Hor√°rios de funcionamento
PUT /merchants/{merchantId}/opening-hours         # Atualizar hor√°rios
GET /merchants/{merchantId}/interruptions         # Listar interrup√ß√µes
POST /merchants/{merchantId}/interruptions        # Criar interrup√ß√£o
```

### üìä Dados Coletados:

| Campo | Tipo | Descri√ß√£o | Uso no Dashboard |
|-------|------|-----------|------------------|
| merchant_id | string | ID √∫nico do restaurante | Identifica√ß√£o principal |
| name | string | Nome fantasia | Exibi√ß√£o nos filtros |
| corporate_name | string | Raz√£o social | Relat√≥rios oficiais |
| status | boolean | Status operacional | Monitoramento em tempo real |
| address_* | string | Endere√ßo completo | Localiza√ß√£o e relat√≥rios |
| operating_hours | object | Hor√°rios por dia da semana | An√°lise de disponibilidade |
| delivery_methods | array | M√©todos de entrega | Configura√ß√£o operacional |
| payment_methods | array | Formas de pagamento | An√°lise de prefer√™ncias |
| minimum_order_value | number | Valor m√≠nimo do pedido | KPIs operacionais |
| delivery_fee | number | Taxa de entrega | An√°lise de custos |

### üíª Implementa√ß√£o no Dashboard:

```typescript
// hooks/useIfoodMerchants.ts
interface IfoodMerchant {
  merchant_id: string;
  name: string;
  corporate_name: string | null;
  status: boolean | null;
  address_city: string | null;
  address_state: string | null;
  phone: string | null;
  operating_hours: OperatingHours | null;
  delivery_methods: string[] | null;
  payment_methods: string[] | null;
  user_id: string;
  client_id: string | null;
  last_sync_at: string;
}

// Tabela: ifood_merchants
// Deduplica√ß√£o autom√°tica por merchant_id
// Polling: atualiza√ß√£o a cada 30 segundos
// Relacionamento: user_id -> clients.id
```

### üé® M√≥dulos que Utilizam:
- **StoreMonitoring** - Status e opera√ß√£o em tempo real
- **IntegrationStatusCard** - Verifica√ß√£o de conectividade
- **ClientManagement** - Associa√ß√£o restaurante-cliente
- **Header** - Seletor de restaurantes (filtros)

## üìñ 3. CATALOG API V2

### üéØ Prop√≥sito no Dashboard:
Gerenciar card√°pio completo com produtos, categorias e complementos. Permite an√°lise de performance de produtos e otimiza√ß√£o de menu.

### üîß Endpoints Principais:
```
GET /catalogs                                     # Listar cat√°logos
GET /catalogs/{catalogId}                         # Detalhes do cat√°logo
GET /catalogs/{catalogId}/categories              # Categorias do cat√°logo
GET /catalogs/{catalogId}/items                   # Items do cat√°logo
POST /catalogs/{catalogId}/items                  # Criar item completo
PUT /catalogs/{catalogId}/items/{itemId}          # Atualizar item
GET /products                                     # Listar produtos
POST /products                                    # Criar produto
```

### üìä Dados Coletados:

| Campo | Tipo | Descri√ß√£o | Uso no Dashboard |
|-------|------|-----------|------------------|
| product_id | string | ID √∫nico do produto | Identifica√ß√£o |
| name | string | Nome do produto | Exibi√ß√£o e busca |
| description | string | Descri√ß√£o detalhada | An√°lise de conte√∫do |
| price | number | Pre√ßo atual | An√°lise de precifica√ß√£o |
| category | string | Categoria do produto | Organiza√ß√£o e filtros |
| image_path | string | URL da imagem | Exibi√ß√£o visual |
| external_code | string | C√≥digo PDV | Integra√ß√£o com sistemas |
| is_active | boolean | Status de disponibilidade | Controle de ativa√ß√£o |
| dietary_restrictions | array | Restri√ß√µes diet√°rias | Classifica√ß√£o nutricional |
| availability_hours | object | Hor√°rios de disponibilidade | An√°lise temporal |
| ean | string | C√≥digo de barras | Controle de estoque |

### üíª Implementa√ß√£o no Dashboard:

```typescript
// hooks/useProducts.ts
interface ProductData {
  id: string;
  name: string;
  description: string | null;
  price: number | null;
  client_id: string;
  ifood_product_id: string | null;
  is_active: string | null;
  merchant_id: string | null;
  item_id: string | null;
  imagePath: string | null;
  created_at: string;
  updated_at: string;
}

// Tabela: products
// Relacionamento: client_id -> clients.id
// √çndices: name, category, merchant_id, is_active
```

### üîÑ Funcionalidades Avan√ßadas:
- **Multi-Setup** - Diferentes pre√ßos por cat√°logo
- **Pizza Handling** - Produtos com caracter√≠sticas especiais
- **Complement Groups** - Grupos de complementos
- **External Code Reuse** - Reutiliza√ß√£o de produtos existentes

### üé® M√≥dulos que Utilizam:
- **MenuOptimization** - An√°lise de performance de produtos
- **MenuManagement** - Gest√£o completa do card√°pio
- **ProductAnalysis** - An√°lise detalhada por produto
- **Dashboard** - KPIs de produtos mais vendidos

## üí∞ 4. FINANCIAL API V2

### üéØ Prop√≥sito no Dashboard:
Fornecer dados financeiros detalhados para concilia√ß√£o, an√°lise de receita e repasses. N√∫cleo do dashboard de analytics financeiro.

### üîß Endpoints Principais:
```
GET /financial/v2.1/merchants/{merchantId}/sales              # Vendas detalhadas
GET /financial/v2/merchants/{merchantId}/salesAdjustments     # Ajustes de vendas
GET /financial/v2/merchants/{merchantId}/occurrences          # Ocorr√™ncias financeiras
GET /financial/v2/merchants/{merchantId}/chargeCancellations  # Cancelamentos
GET /financial/v2/merchants/{merchantId}/maintenanceFees      # Taxas de manuten√ß√£o
GET /financial/v2/merchants/{merchantId}/salesBenefits       # Benef√≠cios de vendas
GET /financial/v2/merchants/{merchantId}/adjustmentsBenefits # Benef√≠cios de ajustes
GET /financial/v2/merchants/{merchantId}/incomeTaxes          # Impostos de renda
```

### üìä Dados Coletados:

| Campo | Tipo | Descri√ß√£o | Uso no Dashboard |
|-------|------|-----------|------------------|
| order_number | string | N√∫mero √∫nico do pedido | Rastreabilidade |
| date | string | Data da transa√ß√£o | An√°lises temporais |
| gross_revenue | number | Receita bruta | KPI principal |
| net_value | number | Valor l√≠quido a receber | Fluxo de caixa |
| items_value | number | Valor dos itens | An√°lise de produtos |
| delivery_fee | number | Taxa de entrega | Custos operacionais |
| ifood_commission_value | number | Comiss√£o do iFood | An√°lise de custos |
| service_fee | number | Taxa de servi√ßo | Custos adicionais |
| ifood_promotions | number | Promo√ß√µes iFood | Desconto externo |
| store_promotions | number | Promo√ß√µes da loja | Desconto interno |
| weekly_plan_fee | number | Taxa do plano semanal | Custo fixo |
| payment_method | string | M√©todo de pagamento | An√°lise de prefer√™ncias |
| billing_type | string | Tipo de faturamento | Classifica√ß√£o cont√°bil |

### üíª Implementa√ß√£o no Dashboard:

```typescript
// hooks/useFinancialMetrics.ts
interface FinancialMetric {
  id: string;
  client_id: string;
  date: string;
  revenue: number | null;
  net_revenue: number | null;
  commission: number | null;
  delivery_fee: number | null;
  orders_count: number | null;
  average_ticket: number | null;
  source: string | null; // 'ifood', 'manual', etc.
}

// Tabelas principais:
// - financial_metrics (m√©tricas agregadas di√°rias)
// - ifood_detailed_analytics (dados detalhados por pedido)

// Processamento:
// - ifoodProcessor.ts: Processa dados espec√≠ficos do iFood
// - genericProcessor.ts: Processa outros formatos
// - aggregationUtils.ts: Agrega dados por per√≠odo
```

### üîÑ Atualiza√ß√µes de Dados:
- **Frequ√™ncia**: Di√°ria √†s 18h
- **Per√≠odos**: Fechados toda quarta-feira
- **Processamento**: Upsert por (client_id, date)
- **Valida√ß√£o**: Mapeamento de colunas din√¢mico

### üé® M√≥dulos que Utilizam:
- **Dashboard** - KPIs principais e gr√°ficos
- **IfoodAnalytics** - An√°lises espec√≠ficas do iFood
- **IfoodAdvancedAnalytics** - An√°lises detalhadas por pedido
- **ReportsModule** - Relat√≥rios personalizados
- **RevenueChart** - Gr√°fico de receita temporal

## üéÅ 5. PROMOTION API

### üéØ Prop√≥sito no Dashboard:
Gerenciar campanhas promocionais e ofertas especiais. Permite an√°lise de performance de promo√ß√µes e otimiza√ß√£o de convers√µes.

### üîß Endpoints Principais:
```
POST /merchants/{merchantId}/promotions                         # Criar promo√ß√µes
POST /merchants/{merchantId}/promotions?reset=true              # Resetar todas promo√ß√µes
GET /merchants/{merchantId}/promotions/{aggregationId}/items    # Status das promo√ß√µes
```

### üìä Dados Coletados:

| Campo | Tipo | Descri√ß√£o | Uso no Dashboard |
|-------|------|-----------|------------------|
| aggregation_id | string | ID de rastreamento da promo√ß√£o | Identifica√ß√£o √∫nica |
| promotion_type | string | Tipo (PERCENTAGE, FIXED, FIXED_PRICE) | Classifica√ß√£o |
| discount_value | number | Valor do desconto | C√°lculo de impacto |
| status | string | Status (ACTIVE, INACTIVE, PENDING) | Monitoramento |
| items | array | Produtos inclu√≠dos na promo√ß√£o | An√°lise por produto |
| valid_from | string | Data de in√≠cio | Per√≠odo de validade |
| valid_until | string | Data de t√©rmino | Per√≠odo de validade |
| minimum_quantity | number | Quantidade m√≠nima | Condi√ß√µes de ativa√ß√£o |
| minimum_value | number | Valor m√≠nimo | Condi√ß√µes de ativa√ß√£o |

### üíª Implementa√ß√£o no Dashboard:

```typescript
// Poss√≠vel hook usePromotions.ts (a ser implementado)
interface PromotionData {
  aggregation_id: string;
  promotion_type: 'PERCENTAGE' | 'FIXED' | 'FIXED_PRICE' | 'PERCENTAGE_PER_X_UNITS';
  discount_value: number;
  status: 'ACTIVE' | 'INACTIVE' | 'PENDING';
  items: PromotionItem[];
  created_at: string;
  performance_metrics: {
    impressions: number;
    clicks: number;
    conversions: number;
    revenue_impact: number;
  }
}

// Tabela a ser criada: promotions
// Relacionamento: client_id -> clients.id
// Processamento: Ass√≠ncrono (pode levar minutos)
```

### ‚ö†Ô∏è Caracter√≠sticas Especiais:
- **Processamento Ass√≠ncrono** - Cria√ß√£o pode levar minutos
- **Status 202** - N√£o garante cria√ß√£o bem-sucedida
- **Valida√ß√£o Final** - Verificar status via GET
- **Exclusivo Marketplace** - Apenas para parceiros espec√≠ficos

### üé® M√≥dulos que Utilizam:
- **MenuOptimization** - Sugest√µes de promo√ß√µes
- **SalesFunnelAnalysis** - Impacto nas convers√µes
- **Dashboard** - KPIs de promo√ß√µes ativas

## üîî 6. WEBHOOK/NOTIFICATIONS API

### üéØ Prop√≥sito no Dashboard:
Receber notifica√ß√µes em tempo real sobre eventos do iFood, eliminando necessidade de polling constante e permitindo rea√ß√µes imediatas.

### üîß Configura√ß√£o:
```
# Configura√ß√£o no painel do desenvolvedor
Webhook URL: https://seu-app.com/webhooks/ifood
M√©todo: POST
Content-Type: application/json
Timeout: 5 segundos
Response esperada: 202 Accepted
```

### üìä Eventos Recebidos:

| Evento | Descri√ß√£o | Payload | Uso no Dashboard |
|--------|-----------|---------|------------------|
| MERCHANT_STATUS_CHANGED | Status da loja mudou | Novo status | Monitoramento de disponibilidade |
| CATALOG_UPDATED | Card√°pio atualizado | Mudan√ßas no cat√°logo | Sincroniza√ß√£o de produtos |
| PROMOTION_ACTIVATED | Promo√ß√£o ativada | Dados da campanha | An√°lise promocional |
| FINANCIAL_SETTLEMENT | Liquida√ß√£o financeira | Dados de repasse | Concilia√ß√£o financeira |

### üíª Implementa√ß√£o no Dashboard:

```typescript
// api/webhooks/ifood.ts
interface WebhookEvent {
  event_type: string;
  merchant_id: string;
  order_id?: string;
  timestamp: string;
  data: any;
  signature: string; // X-IFood-Signature header
}

// Processamento:
// 1. Validar signature
// 2. Processar evento
// 3. Atualizar banco de dados
// 4. Notificar dashboard via WebSocket
// 5. Retornar 202 Accepted
```

### üîí Seguran√ßa:
- **Signature Verification** - Header X-IFood-Signature
- **HTTPS Obrigat√≥rio** - TLS 1.2+
- **Timeout 5s** - Resposta r√°pida obrigat√≥ria
- **Retry Logic** - Reenvio at√© 15 minutos

### üé® M√≥dulos que Utilizam:
- **StoreMonitoring** - Atualiza√ß√µes em tempo real
- **Dashboard** - Notifica√ß√µes push
- **OrdersChart** - Atualiza√ß√µes din√¢micas
- **IntegrationStatusCard** - Status de conectividade

## üîó INTEGRA√á√ÉO NO DASHBOARD

### üìä Fluxo de Dados Completo:
```
Authentication API --> Token V√°lido
                  ‚Üì
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚Üì             ‚Üì             ‚Üì
Merchant API  Financial API  Catalog API
    ‚Üì             ‚Üì             ‚Üì
Store Monitor Financial Analytics Menu Optimization
                  ‚Üì             
             Promotion API  Webhook API
                  ‚Üì             ‚Üì
          Promotion Analysis  Real-time Updates
```

### üóÑÔ∏è Estrutura do Banco de Dados:

**Tabelas principais j√° implementadas:**
- ‚úÖ `clients` (gest√£o de restaurantes)
- ‚úÖ `financial_metrics` (m√©tricas financeiras agregadas)
- ‚úÖ `ifood_detailed_analytics` (dados financeiros detalhados)
- ‚úÖ `ifood_merchants` (dados dos merchants)
- ‚úÖ `ifood_tokens` (tokens de autentica√ß√£o)
- ‚úÖ `products` (cat√°logo b√°sico)

**Tabelas a implementar:**
- ‚ùå `promotions` (campanhas promocionais)
- ‚ùå `webhook_events` (log de eventos recebidos)

### üîÑ Hooks Implementados vs Necess√°rios:

**‚úÖ J√° implementados:**
```typescript
useIfoodConfig()      // Authentication
useIfoodMerchants()   // Merchant
useFinancialMetrics() // Financial
useProducts()         // Catalog (b√°sico)
```

**‚ùå A implementar:**
```typescript
usePromotions()       // Promotion API
useWebhookEvents()    // Webhook processing
```

## üéØ IMPLEMENTA√á√ÉO POR M√ìDULO DO CLIENTE

### üìã M√ìDULO 1: Integra√ß√£o iFood + Coleta de Dados

**APIs Utilizadas:**
- ‚úÖ Authentication - Tokens e renova√ß√£o
- ‚úÖ Merchant - Lista de restaurantes  
- ‚ùå Financial - Dados financeiros (a implementar)
- ‚ùå Webhook - Notifica√ß√µes (a implementar)

**Implementa√ß√£o Atual:**
```typescript
// Componentes funcionando
<IfoodApiConfig />           // Configura√ß√£o de tokens
<IntegrationStatusCard />    // Status da integra√ß√£o
<Dashboard />                // Vis√£o geral (dados fict√≠cios)
<ReportsModule />            // Relat√≥rios PDF (dados fict√≠cios)

// Processamento de dados
ifoodMerchantsService.ts     // Gerencia merchants
// ifoodProcessor.ts         // A implementar para dados financeiros reais
```

**Gaps a Implementar:**
- üî¥ **Financial API** - Integra√ß√£o completa com dados reais
- Export CSV nos relat√≥rios
- Sistema de alertas configur√°veis
- Webhook para atualiza√ß√µes em tempo real

### üìã M√ìDULO 2: Diagn√≥stico com IA

**APIs Utilizadas:**
- ‚ùå Financial - Dados para an√°lise (a implementar)
- ‚úÖ Merchant - Contexto operacional
- ‚ùå Sistema de IA - OpenAI/Claude (a implementar)

**Dados Necess√°rios para IA:**
```typescript
interface DiagnosticData {
  // Financial API (a implementar - cont√©m dados de pedidos tamb√©m)
  revenue_trends: FinancialMetric[];     // A implementar
  cost_analysis: CostBreakdown;          // A implementar 
  order_patterns: OrderPattern[];        // A implementar via Financial API
  peak_hours: HourlyAnalysis[];          // A implementar via Financial API
  
  // Merchant API
  operational_status: OperationalMetrics;
  
  // Benchmarks (base de conhecimento)
  sector_benchmarks: BenchmarkData;
}
```

**Implementa√ß√£o Necess√°ria:**
- Sistema de IA para an√°lise de dados
- Base de conhecimento com metodologia Plano Certo
- Algoritmos de benchmark setorial
- Gera√ß√£o autom√°tica de planos de a√ß√£o

### üìã M√ìDULO 3: Otimiza√ß√£o de Card√°pio com IA

**APIs Utilizadas:**
- ‚ùå Catalog - Produtos e descri√ß√µes (implementar completamente)
- ‚ùå Promotion - Campanhas promocionais (a implementar)
- ‚ùå Financial - Performance de produtos (a implementar)
- ‚ùå Sistema de IA - Gera√ß√£o de conte√∫do (a implementar)

**Implementa√ß√£o Necess√°ria:**
```typescript
// hooks/useCatalogAnalysis.ts
interface ProductPerformance {
  product_id: string;
  sales_count: number;
  revenue: number;
  profit_margin: number;
  click_through_rate: number;
  conversion_rate: number;
  seasonal_trends: SeasonalData[];
}

// services/aiContentGenerator.ts
interface AIServices {
  generateDescription: (product: Product) => Promise<string>;
  optimizeImage: (image: File) => Promise<File>;
  suggestPricing: (product: Product, market: MarketData) => number;
  recommendPromotions: (products: Product[]) => PromotionSuggestion[];
}
```

### üìã M√ìDULO 4: Automa√ß√£o de Cobran√ßa e Relat√≥rios

**APIs Utilizadas:**
- ‚ùå Financial - Dados para cobran√ßa (a implementar)
- ‚ùå WhatsApp Business API - Envio de cobran√ßas (externa)
- ‚ùå Email API - Relat√≥rios autom√°ticos (externa)
- ‚ùå Payment Gateway - Controle de pagamentos (externa)

**Implementa√ß√£o Necess√°ria:**
```typescript
// services/billingAutomation.ts
interface BillingService {
  generateInvoice: (client: Client, period: DateRange) => Invoice;
  sendWhatsAppBilling: (invoice: Invoice) => Promise<boolean>;
  sendEmailReport: (report: Report) => Promise<boolean>;
  trackPaymentStatus: (invoice: Invoice) => PaymentStatus;
}

// Integra√ß√µes externas
WhatsAppBusinessAPI  // Meta ou Twilio
EmailService         // Resend ou SendGrid
PaymentGateway       // Stripe, PagSeguro, MercadoPago
```

## üöÄ ROADMAP DE IMPLEMENTA√á√ÉO

### FASE 1: Implementar Financial API e Completar M√≥dulo 1 (6-8 semanas)
1. üî¥ **Implementar Financial API completa**
2. ‚úÖ Configurar Webhook para tempo real
3. ‚úÖ Sistema de alertas configur√°veis
4. ‚úÖ Export CSV completo
5. ‚úÖ Testes e homologa√ß√£o

### FASE 2: M√≥dulo 3 - Card√°pio IA (10-12 semanas)
1. ‚úÖ Catalog API V2 completa
2. ‚úÖ Promotion API completa
3. ‚úÖ Sistema de IA para gera√ß√£o de conte√∫do
4. ‚úÖ An√°lise de performance de produtos (dep. Financial API)
5. ‚úÖ Recomenda√ß√µes automatizadas

### FASE 3: M√≥dulo 4 - Automa√ß√£o (8-10 semanas)
1. ‚úÖ WhatsApp Business API
2. ‚úÖ Sistema de cobran√ßa automatizada (dep. Financial API)
3. ‚úÖ Relat√≥rios autom√°ticos por email
4. ‚úÖ Integra√ß√£o com gateway de pagamento
5. ‚úÖ Dashboard de cobran√ßa e inadimpl√™ncia

### FASE 4: M√≥dulo 2 - IA Diagn√≥stico (12-14 semanas)
1. ‚úÖ Treinar IA com metodologia Plano Certo
2. ‚úÖ Sistema de an√°lise automatizada (dep. Financial API)
3. ‚úÖ Base de benchmarks setoriais
4. ‚úÖ Gera√ß√£o de planos de a√ß√£o personalizados
5. ‚úÖ Interface de recomenda√ß√µes

## üìà M√âTRICAS DE SUCESSO

### KPIs por API:
- **Authentication**: Uptime > 99.5%, renova√ß√£o autom√°tica de tokens
- **Merchant**: Sincroniza√ß√£o < 30s, cobertura de 100% dos merchants
- **Financial**: Concilia√ß√£o > 99.9%, dados atualizados em 24h
- **Catalog**: Sincroniza√ß√£o completa de produtos em < 5min
- **Promotion**: Cria√ß√£o de promo√ß√µes em < 2min
- **Webhook**: Disponibilidade > 99.9%, processamento < 5s

### Performance do Dashboard:
- Tempo de carregamento < 3s
- Atualiza√ß√µes em tempo real < 1s
- Exporta√ß√£o de relat√≥rios < 10s
- Disponibilidade geral > 99.5%

## üîß CONFIGURA√á√ïES T√âCNICAS

### Rate Limits:
- **Financial API**: 10 req/s
- **Catalog API**: 15 req/s
- **Promotion API**: 5 req/s
- **Merchant API**: 10 req/s

### Timeouts:
- **API Requests**: 30s
- **Webhook Response**: 5s
- **Token Refresh**: 10s

### Seguran√ßa:
- **HTTPS/TLS 1.2+** obrigat√≥rio
- **OAuth2 Bearer** tokens
- **Webhook signature** verification
- **Rate limiting** por IP/client

---

üìù **Documento criado em:** Janeiro 2025  
üîÑ **√öltima atualiza√ß√£o:** Janeiro 2025  
üë§ **Mantido por:** Equipe de Desenvolvimento Plano Certo Hub Insights
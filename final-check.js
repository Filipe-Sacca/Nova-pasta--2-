require("dotenv").config(); const { createClient } = require("@supabase/supabase-js"); const supabase = createClient(process.env.SUPABASE_URL, process.env.SUPABASE_ANON_KEY); async function finalCheck() { const userId = "f3058ae7-0b3f-4d01-9f38-48f718a91009"; console.log("üéØ VERIFICA√á√ÉO FINAL DOS DADOS"); console.log("========================\n"); console.log("üÜî Usu√°rio ID:", userId); console.log("üìß Email: teste@planocerto.com"); console.log("üîë Senha: 123456789\n"); console.log("üìä VERIFICANDO MERCHANTS..."); const { data: merchants } = await supabase .from("ifood_merchants") .select("merchant_id, name, client_id") .eq("user_id", userId); console.log("Merchants encontrados:", merchants?.length || 0); if (merchants && merchants.length > 0) { merchants.forEach(m => console.log(`  - ${m.name} (${m.merchant_id})`)); const merchantIds = merchants.map(m => m.merchant_id); console.log("\nüì¶ VERIFICANDO PRODUTOS..."); const { data: products } = await supabase .from("products") .select("name, price, is_active, merchant_id") .in("merchant_id", merchantIds); console.log("Produtos encontrados:", products?.length || 0); if (products && products.length > 0) { products.forEach(p => console.log(`  - ${p.name} (R$ ${p.price}) - ${p.is_active}`)); } } console.log("\n‚úÖ CONFIGURA√á√ÉO CONCLU√çDA\!"); console.log("Agora fa√ßa login com teste@planocerto.com e senha 123456789"); } finalCheck();
